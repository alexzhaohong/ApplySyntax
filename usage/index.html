



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Syntax detector for Sublime Text.">
      
      
        <link rel="canonical" href="https://facelessuser.github.io/ApplySyntax/usage/">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.0.0b2-1">
    
    
      
        <title>User Guide - ApplySyntax Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/app.0f079138.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/app-palette.3f90c815.min.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/pymdownx-extras/extra-72a175a13b.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    
      <a href="#user-guide" class="md-skip">
        Skip to content
      </a>
    
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://facelessuser.github.io/ApplySyntax" title="ApplySyntax Documentation" aria-label="ApplySyntax Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon">description</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="header-title">
          
            <span class="md-header-nav__topic">
              ApplySyntax Documentation
            </span>
            <span class="md-header-nav__topic">
              
                User Guide
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="search-reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
<a href="https://github.com/facelessuser/ApplySyntax/" title="Go to repository" class="md-source">
  <div class="md-source__icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://facelessuser.github.io/ApplySyntax" title="ApplySyntax Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">description</i>
      
    </a>
    ApplySyntax Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/facelessuser/ApplySyntax/" title="Go to repository" class="md-source">
  <div class="md-source__icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="About ApplySyntax" class="md-nav__link">
      About ApplySyntax
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        User Guide
      </label>
    
    <a href="./" title="User Guide" class="md-nav__link md-nav__link--active">
      User Guide
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-rules" class="md-nav__link">
    Creating Rules
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extensions" class="md-nav__link">
    Extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#match" class="md-nav__link">
    Match
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rules" class="md-nav__link">
    Rules
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-path-rule" class="md-nav__link">
    File Path Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first-line-rule" class="md-nav__link">
    First Line Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpreter-shebang" class="md-nav__link">
    Interpreter (Shebang)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-rule" class="md-nav__link">
    Function Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-rule" class="md-nav__link">
    Content Rule
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extension-trimming" class="md-nav__link">
    Extension Trimming
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-specific-rules" class="md-nav__link">
    Project Specific Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-options" class="md-nav__link">
    Settings Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#re-raise-exceptions" class="md-nav__link">
    Re-Raise Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-file-syntax" class="md-nav__link">
    New File Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-extensions-to-language-settings" class="md-nav__link">
    Add Extensions to Language Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-and-debugging" class="md-nav__link">
    Troubleshooting and Debugging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing & Support" class="md-nav__link">
      Contributing &amp; Support
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-rules" class="md-nav__link">
    Creating Rules
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extensions" class="md-nav__link">
    Extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#match" class="md-nav__link">
    Match
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rules" class="md-nav__link">
    Rules
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-path-rule" class="md-nav__link">
    File Path Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first-line-rule" class="md-nav__link">
    First Line Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpreter-shebang" class="md-nav__link">
    Interpreter (Shebang)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-rule" class="md-nav__link">
    Function Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-rule" class="md-nav__link">
    Content Rule
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extension-trimming" class="md-nav__link">
    Extension Trimming
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-specific-rules" class="md-nav__link">
    Project Specific Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-options" class="md-nav__link">
    Settings Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#re-raise-exceptions" class="md-nav__link">
    Re-Raise Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-file-syntax" class="md-nav__link">
    New File Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-extensions-to-language-settings" class="md-nav__link">
    Add Extensions to Language Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-and-debugging" class="md-nav__link">
    Troubleshooting and Debugging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/facelessuser/ApplySyntax/tree/master/docs/src/markdown/usage.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="user-guide">User Guide<a class="headerlink" href="#user-guide" title="Permanent link"></a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link"></a></h2>
<p>ApplySyntax is based on the idea of creating rules for applying certain syntaxes to specific files. You define the rules, the plugin checks them. The first one to pass wins.</p>
<p>ApplySyntax allows you to create your own custom rules. The easiest way to get started is to create a settings file called <code>ApplySyntax.sublime-settings</code> in your <code>Packages/User</code> folder.  You can override the default settings in <code>Packages/ApplySyntax/ApplySyntax.sublime-settings</code> by setting them in your <code>Packages/User/ApplySyntax.sublime-settings</code> file. You can override any setting to meet your needs.  To prepend rules to the default rule set, you can create a key called <code>syntaxes</code> (modifying <code>default_syntaxes</code> will wipe out all the default rules and is not recommended as you won't get the latest updates).</p>
<h2 id="creating-rules">Creating Rules<a class="headerlink" href="#creating-rules" title="Permanent link"></a></h2>
<p>Each rule is a dictionary within the syntax array.  Let's take a look at the top level parameters.</p>
<h3 id="syntax">Syntax<a class="headerlink" href="#syntax" title="Permanent link"></a></h3>
<p>The <code>syntax</code> attribute is the syntax file that will be applied to a view which meets the criteria defined in the rule.</p>
<p>For syntax files you must specify the path to the syntax file. The plugin is capable of supporting multiple levels of folder nesting if you need it to. For example, if you had all of your tmLanguage files for Rails organized in a folder like this: <code>Packages/Rails/Language/*.tmLanguage</code>, and you were looking to use the <code>Ruby Haml.tmLanguage</code> file, the path to name translation would simply be: <code>Packages/Rails/Language/Ruby Haml.tmLanguage</code> &rarr; <code>Rails/Language/Ruby Haml</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;Rails/Language/Ruby Haml&quot;</span>
</code></pre></div>

<p>Notice that the paths are relative to the <code>Packages</code> folder.  Also, notice that we don't specify the extension.  Sublime Text in build 3084 added a new language syntax with the extension <code>sublime-syntax</code>.  In Sublime builds &gt;= 3084, ApplySyntax will first default to <code>sublime-syntax</code> and fall back to <code>tmLanguage</code> if it cannot find the the other format.  If you want to force the syntax, just specify the extension; the extension must be either <code>sublime-syntax</code> or <code>tmLanguage</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;Rails/Language/Ruby Haml.tmLanguage&quot;</span>
</code></pre></div>

<p>If it is desirable for the syntax rule to reference multiple tmLanguage files because it is not known which package will be on a machine, you can set the syntax as an array of syntaxes as shown in the following example.  The first one found will be used.</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;RSpec/RSpec&quot;</span><span class="p">,</span> <span class="s2">&quot;RSpec (snippets and syntax)/Syntaxes/RSpec&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Notice that each syntax file has a different path since they come from completely different plugins.</p>
<p>Lastly, if using Package Control, it is likely that most, if not all, of your packages will be zipped with the extension <code>.sublime-package</code> in the <code>Installed Packages</code> folder instead of <code>Packages</code>.  These will be handled exactly like plugins installed under <code>Packages</code>.  The one difference is that you treat the zip bundle as a folder without the <code>.sublime-package</code> extension.  So if we had a syntax file located in a zipped bundle: <code>Installed Packages/Rails.sublime-package/Language/Ruby Haml.tmLanguage</code> &rarr; <code>Rails/Language/Ruby Haml</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;Rails/Language/Ruby Haml&quot;</span>
</code></pre></div>

<h3 id="extensions">Extensions<a class="headerlink" href="#extensions" title="Permanent link"></a></h3>
<p>The <code>extensions</code> attribute is used to define extensions to apply a syntax to.  <code>extensions</code> is an array of strings where each string is an extension.  No <code>.</code> is needed when defining extensions, unless it is desired to target a dot file like <code>.gitignore</code>, then you would include the <code>.</code>.</p>
<div class="codehilite"><pre><span></span><code>    <span class="p">{</span>
        <span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;YAML/YAML&quot;</span><span class="p">,</span>
        <span class="s2">&quot;extensions&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;.gemrc&quot;</span><span class="p">,</span> <span class="s2">&quot;yml&quot;</span><span class="p">,</span> <span class="s2">&quot;yml.dist&quot;</span><span class="p">]</span>
    <span class="p">},</span>
</code></pre></div>

<p><code>extensions</code> is evaluated before all other rules, and it never takes part in "<a href="#match">match all</a>" rule sets as it is run separate from the normal rule sets; if an extension is matched here, all other rules will be skipped.</p>
<p>An added benefit of <code>extensions</code>, if you are using <abbr title="Sublime Text 3">ST3</abbr> and set <a href="#add-extensions-to-language-settings"><code>add_exts_to_lang_settings</code></a> to <code>true</code>, is that ApplySyntax will add the extensions to the specified syntax language's settings file in your <code>User</code> folder.  By doing this, Sublime Text will be able to show the associated icon for the file type in the sidebar.  Apply syntax will also create a file <code>ApplySyntax.ext-list</code> in your <code>User</code> folder and track which extension it added so that if you remove a rule, ApplySyntax will only remove the extensions it added to the language file in question. If you do not like this functionality, you can simply disable <code>add_exts_to_lang_settings</code> by setting it to <code>false</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>add_exts_to_lang_settings</code> will not be applied to <code>extensions</code> found in a <a href="#project-specific-rules">project specific rule</a>, as project specific rules are not global, but the effects of <code>add_exts_to_lang_settings</code> are global.</p>
</div>
<h3 id="match">Match<a class="headerlink" href="#match" title="Permanent link"></a></h3>
<p><code>match</code> is a setting that you either include or omit.  When included, you set it to <code>all</code>.  When set, all rules defined must be met for a match to be considered successful.  <code>match</code> ignores the <a href="#extensions"><code>extensions</code></a> key as <code>extensions</code> never take part in "match all" rule sets.  If you want to include an extension rule in a "match all" rule set, then a <a href="#file-path-rule"><code>file_path</code></a> rule should be used.</p>
<div class="codehilite"><pre><span></span><code>    <span class="s2">&quot;match&quot;</span><span class="o">:</span> <span class="s2">&quot;all&quot;</span>
</code></pre></div>

<p>So in this case, all the rules must match for the syntax to be applied:</p>
<div class="codehilite"><pre><span></span><code>     <span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;Handlebars/Handlebars&quot;</span><span class="p">,</span>
     <span class="s2">&quot;match&quot;</span><span class="o">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
     <span class="s2">&quot;rules&quot;</span><span class="o">:</span> <span class="p">[</span>
         <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.html$&quot;</span><span class="p">},</span>
         <span class="p">{</span><span class="s2">&quot;contains&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;script [^&gt;]*type=\&quot;text\\/x-handlebars\&quot;[^&gt;]*&gt;&quot;</span><span class="p">}</span>
     <span class="p">]</span>
</code></pre></div>

<p>In this case, there is no <code>match</code> key, so only one rule needs to match:</p>
<div class="codehilite"><pre><span></span><code>    <span class="p">{</span>
        <span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;Ruby/Ruby&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rules&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)Gemfile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)Capfile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)Guardfile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)[Rr]akefile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)Berksfile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)[Cc]heffile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)Thorfile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)Podfile$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*(\\\\|/)config.ru$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\\\Vagrantfile(\\\\..*)?$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*/Vagrantfile(/..*)?$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.thor$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.rake$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.simplecov$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.jbuilder$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.rb$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.podspec$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.rabl$&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;interpreter&quot;</span><span class="o">:</span> <span class="s2">&quot;ruby&quot;</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
</code></pre></div>

<h3 id="rules">Rules<a class="headerlink" href="#rules" title="Permanent link"></a></h3>
<p><code>rules</code> is an array of rules that can be used to target specific files with your defined syntax file.  The rules are processed until the first rule matches, so order your rules in a way that makes sense to you.</p>
<h4 id="file-path-rule">File Path Rule<a class="headerlink" href="#file-path-rule" title="Permanent link"></a></h4>
<p>A <code>file_path</code> rule defines a regex to match against the complete file path. The pattern is always anchored to the beginning of the path, as if there were an implicit <code>^</code> — so the pattern <code>/a/b/c</code> will match the file <code>/a/b/c/foo.py</code>, but not the file <code>/x/y/z/a/b/c/foo.py</code>. (You may include an explicit <code>^</code> at the beginning of the pattern, as some of the default rules do — but the result is the same either way.)</p>
<p>For backwards compatibility with older versions of ApplySyntax, the rule name <code>file_name</code> is also accepted, and functions exactly like <code>file_path</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.xml(\\.dist)?$&quot;</span><span class="p">},</span>
</code></pre></div>

<h4 id="first-line-rule">First Line Rule<a class="headerlink" href="#first-line-rule" title="Permanent link"></a></h4>
<p>A <code>first_line</code> rule allows you to check whether the first line of the file's content matches a given regex. As with <code>file_path</code> <a href="#file-path-rule">rules</a>, the pattern is always anchored to the beginning of the line.</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;first_line&quot;</span><span class="o">:</span> <span class="s2">&quot;^&lt;\\?xml&quot;</span><span class="p">},</span>
</code></pre></div>

<h4 id="interpreter-shebang">Interpreter (Shebang)<a class="headerlink" href="#interpreter-shebang" title="Permanent link"></a></h4>
<p>An <code>interpreter</code> rule does the same thing as a <code>first_line</code> rule that uses a regex to match an interpreter directive (shebang).  The difference being that ApplySyntax will construct the regex for you.</p>
<p>So a <code>first_line</code> rule:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;first_line&quot;</span><span class="o">:</span> <span class="s2">&quot;^#\\!(?:.+)ruby&quot;</span><span class="p">}</span>
</code></pre></div>

<p>Can be simplified as:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;interpreter&quot;</span><span class="o">:</span> <span class="s2">&quot;ruby&quot;</span><span class="p">}</span>
</code></pre></div>

<p>For backwards compatibility with older versions of ApplySyntax, the rule name <code>binary</code> is also accepted, and functions exactly like <code>interpreter</code>.</p>
<h4 id="function-rule">Function Rule<a class="headerlink" href="#function-rule" title="Permanent link"></a></h4>
<p>This is an example of using a custom function to decide whether or not to apply a syntax. This is done via ApplySyntax plugins.  The plugin file should be under a plugin folder.</p>
<p>The function rule takes two parameters.  The first is <code>source</code> and is the plugin source file.  It is defined as if you were importing a python plugin.  If you had a plugin in <code>Packages/ApplySyntax/as_plugins/is_rails_file.py</code>, it would be defined under <code>source</code> as <code>ApplySyntax.as_plugins.is_rails_file</code>.  Function rules still support the legacy way: <code>ApplySyntax/as_plugins/is_rails_file</code>, but it is recommended to use the dot notation as it makes more sense from a Python import perspective.</p>
<p>The second parameter is <code>args</code> and is optional. <code>args</code> is a dictionary of the keyword arguments the function rule plugin accepts.</p>
<p>The plugin must have a function defined as <code>syntax_test</code>. <code>syntax_test</code> will be the function called within the plugin file and accepts an argument <code>file_path</code> (which is the full path to the file being evaluated), and any custom keyword arguments desired by the user.  The plugin must return either <code>True</code> or <code>False</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;function&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;User.plugins.myplugin&quot;</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">}}}</span>
</code></pre></div>

<p>Example:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">syntax_test</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">foo</span><span class="p">):</span>
    <span class="c1"># Some test logic</span>
    <span class="k">return</span> <span class="kc">False</span> <span class="c1"># True or False</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When placing a function rule module in a package, it is advised to put it in a sub-folder.  The sub-folder does not need an <code>__init__.py</code>, it just needs your module(s).</p>
</div>
<h4 id="content-rule">Content Rule<a class="headerlink" href="#content-rule" title="Permanent link"></a></h4>
<p>Sometimes a file name or first line search is just not enough and maybe a function rule is overkill.  In this case, maybe searching the content of a file can be enough.  You can search a file's content with regex for a specific token via the <code>contains</code> rule.</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;contains&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;script [^&gt;]*type=\&quot;text\\/x-handlebars\&quot;[^&gt;]*&gt;&quot;</span><span class="p">}</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is recommended to pair <code>contains</code> rules with other rules via the <code class="codehilite"><span class="s2">&quot;match&quot;</span><span class="o">:</span> <span class="s2">&quot;all&quot;</span></code> option to ensure you don't search every file (which can significantly slow down the editor); this will also help ensure get more reliable matches. If pairing with other rules as dependencies, it is advised to pair the <code>contains</code> rule after the other required rule(s) to ensure you search the content of as few files as possible.</p>
<p>Also, try to use very specific regex to ensure you don't get false positives.</p>
</div>
<h3 id="extension-trimming">Extension Trimming<a class="headerlink" href="#extension-trimming" title="Permanent link"></a></h3>
<p>Sometimes a file may have a trailing extension that prevents it from matching a rule, but if it was trimmed off, it would match. By creating an extension trimming rule, you target files that do not initial match and send them back through the pipe without it's last extension.</p>
<p>Currently, an extension trimming rule only contains a <code>file_path</code> pattern.</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;ext_trim&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.py3\\.temp&quot;</span><span class="p">}]</span>
</code></pre></div>

<p>So, if we had a file named <code>test.py3.temp</code>, it normally wouldn't match one of default rules. With the above rule, the file would be retried as <code>test.py3</code> and would match the Python syntax rule.</p>
<h3 id="project-specific-rules">Project Specific Rules<a class="headerlink" href="#project-specific-rules" title="Permanent link"></a></h3>
<p>To define project specific syntaxes, just create a <code>settings</code> key in your project file (if it doesn't already exist) and then and an additional key under <code>settings</code> called <code>project_syntaxes</code> or <code>project_ext_trim</code>.</p>
<p><code>project_syntaxes</code> is an array; just add your syntax rules to <code>project_syntaxes</code> just like you would add them to <code>syntaxes</code> in your user settings file, and ApplySyntax will prepend the rules to the beginning of your defined rules.  The order of rules is as follows: project &rarr; user &rarr; default.</p>
<p><code>project_ext_trim</code> is also an array, and you can trim rules just as you would to <code>ext_trim</code> in your user settings file.</p>
<p>There is one difference between project specific rules and global rules.  In project rules, the <a href="#extensions">extensions</a> key will not be applied to the associated syntax language settings file as project specific rules are not global, but language settings files are global.</p>
<div class="codehilite"><pre><span></span><code>    <span class="s2">&quot;settings&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;project_syntaxes&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;XML/XML&quot;</span><span class="p">,</span>
                <span class="s2">&quot;rules&quot;</span><span class="o">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.xml(\\.dist)?$&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;first_line&quot;</span><span class="o">:</span> <span class="s2">&quot;^&lt;\\?xml&quot;</span><span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;project_ext_trim&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="o">:</span> <span class="s2">&quot;.*\\.file.temp&quot;</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
</code></pre></div>

<h3 id="settings-options">Settings Options<a class="headerlink" href="#settings-options" title="Permanent link"></a></h3>
<p>There are a couple of general settings found in <code>ApplySyntax.sublime-settings</code>.</p>
<h4 id="re-raise-exceptions">Re-Raise Exceptions<a class="headerlink" href="#re-raise-exceptions" title="Permanent link"></a></h4>
<p>If an exception occurs when processing a function, this will re-raised the captured exception in Sublime's console so the user get feedback. This is really only useful to those writing functions. The average user shouldn't need this.  By default, the setting will be set to <code>false</code>.</p>
<div class="codehilite"><pre><span></span><code>    <span class="s2">&quot;reraise_exceptions&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</code></pre></div>

<h4 id="new-file-syntax">New File Syntax<a class="headerlink" href="#new-file-syntax" title="Permanent link"></a></h4>
<p>If you want to have a syntax applied when new files are created, set <code>new_file_syntax</code> to the name of the syntax to use. The format is exactly the same as the <a href="#syntax">syntax</a> parameter in the syntax rules mentioned earlier. For example, if you want to have a new file use JavaScript syntax, set <code>new_file_syntax</code> to <code>JavaScript/JavaScript</code>.  The default is <code>false</code>.</p>
<div class="codehilite"><pre><span></span><code>    <span class="s2">&quot;new_file_syntax&quot;</span><span class="o">:</span> <span class="s2">&quot;JavaScript/JavaScript&quot;</span><span class="p">,</span>
</code></pre></div>

<h4 id="add-extensions-to-language-settings">Add Extensions to Language Settings<a class="headerlink" href="#add-extensions-to-language-settings" title="Permanent link"></a></h4>
<p>To enable adding defined extensions to language settings, just set <code>add_exts_to_lang_settings</code> to <code>true</code>.  See <a href="#extensions">Extensions</a> for more info.</p>
<div class="codehilite"><pre><span></span><code>    <span class="s2">&quot;add_exts_to_lang_settings&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</code></pre></div>

<h4 id="troubleshooting-and-debugging">Troubleshooting and Debugging<a class="headerlink" href="#troubleshooting-and-debugging" title="Permanent link"></a></h4>
<p>By default, the <code>debug</code> setting is turned on so that users have some form of visual feedback in the console that ApplySyntax is working.  This can be turned off by setting <code>debug</code> to <code>false</code>.  If developing, you can set <code>debug</code> to <code>verbose</code> to get even more info in the console.</p>
<div class="codehilite"><pre><span></span><code>    <span class="c1">// Control level of logging in the console.</span>
    <span class="c1">// (true|false|&quot;verbose&quot;)</span>
    <span class="s2">&quot;debug&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</code></pre></div>
                
                  
                
                
                  
                  <hr>
                  <div class="md-source-date">
                    <small>
                      
                        Last update: November 27, 2019
                      
                    </small>
                  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../installation/" title="Installation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Installation
              </span>
            </div>
          </a>
        
        
          <a href="../contributing/" title="Contributing & Support" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Contributing &amp; Support
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2013 - 2019 <a href="https://github.com/facelessuser">Isaac Muse</a>
<br><span class="md-footer-custom-text">emoji provided free by </span>
<a href="https://github.com/twitter/twemoji">Twemoji</a>

          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">
          MkDocs
        </a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      <a href="https://github.com/facelessuser" target="_blank" rel="noopener" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/bundle.bd6ef04a.min.js"></script><script id="__lang" type="application/json">
        {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.language": "en", "search.pipeline.stopwords": "True", "search.pipeline.trimmer": "True", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.tokenizer": "[\\s\\-]+"}
      </script>
      <script>
        app = initialize({
          base: "..",
          worker: {
            search: "../assets/javascripts/worker/search.926ffd9e.min.js"
          },
          feature: {
            instant: false
          }
        });
      </script>
      
        <script src="../assets/pymdownx-extras/extra-0d9305e748.js"></script>
      
    
  </body>
</html>